import time

BOLD = "\033[1m"
ITALIC = "\033[3m"
RESET = "\033[0m"

class Level1:
    def __init__(self):
        self.player_inventory = []
        self.available_actions = ["–æ—Å–º–æ—Ç—Ä–µ—Ç—å", "–≤–∑—è—Ç—å", "–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å", "–∏–¥—Ç–∏", "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å"]
        self.interacted_objects = set()
        
        self.objects_description = {
            "—Ö–æ–ª–ª": "–ó–∞–±—ã—Ç—ã–π —Ö–æ–ª–ª: –ø—ã–ª—å–Ω–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ —Å –≤—ã—Å–æ–∫–∏–º–∏ —Å–≤–æ–¥–∞–º–∏. –í –≤–æ–∑–¥—É—Ö–µ –≤–∏—Ç–∞–µ—Ç –∑–∞–ø–∞—Ö —Å—Ç–∞—Ä–æ–π –ø—ã–ª–∏ –∏ –º–µ—Ç–∞–ª–ª–∞.",
            "–¥–≤–µ—Ä—å": "–ú–∞—Å—Å–∏–≤–Ω–∞—è –¥—É–±–æ–≤–∞—è –¥–≤–µ—Ä—å —Å –∂–µ–ª–µ–∑–Ω—ã–º–∏ —Å–∫–æ–±–∞–º–∏. –ö–∞–∂–µ—Ç—Å—è, –æ–Ω–∞ –∑–∞–ø–µ—Ä—Ç–∞ –Ω–∞ –≤–µ–∫–∞.",
            "–∫–ª—é—á": "–†–∂–∞–≤—ã–π –∂–µ–ª–µ–∑–Ω—ã–π –∫–ª—é—á, –ø–æ–∫—Ä—ã—Ç—ã–π –ø–∞—É—Ç–∏–Ω–æ–π. –ù–∞ –Ω–µ–º –≤–∏–¥–Ω–µ–µ—Ç—Å—è –≥–µ—Ä–± –ò–∑—É–º—Ä—É–¥–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞.",
            "—Å—É–º–∫–∞": "–°—Ç–∞—Ä–∞—è –∫–æ–∂–∞–Ω–∞—è —Å—É–º–∫–∞, –∑–∞–±—ã—Ç–∞—è –≤ —É–≥–ª—É —Ö–æ–ª–ª–∞.",
            "—Å—É–Ω–¥—É–∫": "–ù–µ–±–æ–ª—å—à–æ–π –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–π —Å—É–Ω–¥—É–∫, —Å—Ç–æ—è—â–∏–π —É —Å—Ç–µ–Ω—ã.",
            "–∫–∞—Ä—Ç–∏–Ω–∞": "–ü–æ—Ç—É—Å–∫–Ω–µ–≤—à–∞—è –∫–∞—Ä—Ç–∏–Ω–∞, –∏–∑–æ–±—Ä–∞–∂–∞—é—â–∞—è –≤–æ–ª—à–µ–±–Ω–∏–∫–∞ –ì—É–¥–≤–∏–Ω–∞.",
            "–∫–æ–≤–µ—Ä": "–ò—Å—Ç–æ–Ω—á–µ–Ω–Ω—ã–π –∫–æ–≤–µ—Ä —Å –≤—ã—Ü–≤–µ—Ç—à–∏–º–∏ —É–∑–æ—Ä–∞–º–∏."
        }
        
        self.objects_state = {
            "–¥–≤–µ—Ä—å": "–∑–∞–ø–µ—Ä—Ç–∞",
            "—Å—É–Ω–¥—É–∫": "–∑–∞–ø–µ—Ä—Ç",
            "–∫–ª—é—á": "–Ω–µ –Ω–∞–π–¥–µ–Ω"
        }

    def show_inventory(self):
        if not self.player_inventory:
            print("\n–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç.")
        else:
            print(f"\n–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å: {', '.join(self.player_inventory)}")

    def process_command(self, command):
        command = command.lower().strip()
        
        if command == "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å":
            self.show_inventory()
            return True
        elif command == "–ø–æ–º–æ—â—å":
            self.show_help()
            return True
        elif command == "–≤—ã—Ö–æ–¥":
            return False
        
        parts = command.split()
        if len(parts) < 2:
            print("–ù–µ –ø–æ–Ω—è–ª –∫–æ–º–∞–Ω–¥—É. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: –¥–µ–π—Å—Ç–≤–∏–µ –æ–±—ä–µ–∫—Ç")
            return True
        
        action = parts[0]
        obj = "_".join(parts[1:])
        
        if action not in self.available_actions:
            print(f"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. –î–æ—Å—Ç—É–ø–Ω—ã–µ: {', '.join(self.available_actions)}")
            return True
        
        return self.execute_action(action, obj)

    def execute_action(self, action, obj):
        if action == "–æ—Å–º–æ—Ç—Ä–µ—Ç—å":
            return self.examine_object(obj)
        elif action == "–≤–∑—è—Ç—å":
            return self.take_object(obj)
        elif action == "–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å":
            return self.use_object(obj)
        elif action == "–∏–¥—Ç–∏":
            return self.move_to(obj)
        return True

    def examine_object(self, obj):
        if obj in self.objects_description:
            print(f"\n{self.objects_description[obj]}")
            self.interacted_objects.add(obj)
            
            if obj == "—Å—É–Ω–¥—É–∫" and self.objects_state["–∫–ª—é—á"] == "–Ω–µ –Ω–∞–π–¥–µ–Ω":
                print("–°—É–Ω–¥—É–∫ –∑–∞–ø–µ—Ä—Ç. –ú–æ–∂–µ—Ç –±—ã—Ç—å, –∫–ª—é—á –≥–¥–µ-—Ç–æ —Ä—è–¥–æ–º?")
            elif obj == "–∫–∞—Ä—Ç–∏–Ω–∞":
                print("–ó–∞ –∫–∞—Ä—Ç–∏–Ω–æ–π —á—Ç–æ-—Ç–æ –±–ª–µ—Å–Ω—É–ª–æ...")
            elif obj == "–∫–æ–≤–µ—Ä" and "–∫–ª—é—á" not in self.player_inventory:
                print("–ö–æ–≤–µ—Ä –≤—ã–≥–ª—è–¥–∏—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ. –ú–æ–∂–µ—Ç –±—ã—Ç—å, –ø–æ–¥ –Ω–∏–º —á—Ç–æ-—Ç–æ –µ—Å—Ç—å?")
            elif obj == "–¥–≤–µ—Ä—å":
                if self.objects_state["–¥–≤–µ—Ä—å"] == "–∑–∞–ø–µ—Ä—Ç–∞":
                    print("–î–≤–µ—Ä—å –Ω–∞–¥–µ–∂–Ω–æ –∑–∞–ø–µ—Ä—Ç–∞. –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫–ª—é—á.")
                else:
                    print("–î–≤–µ—Ä—å –æ—Ç–∫—Ä—ã—Ç–∞! –ú–æ–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ –¥–∞–ª—å—à–µ.")
            
            return True
        else:
            print("\n–ù–µ –≤–∏–∂—É —Ç–∞–∫–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è –æ—Å–º–æ—Ç—Ä–∞.")
            return True

    def take_object(self, obj):
        if obj == "–∫–ª—é—á" and "–∫–ª—é—á" not in self.player_inventory:
            if self.objects_state["–∫–ª—é—á"] == "–Ω–∞–π–¥–µ–Ω":
                self.player_inventory.append("–∫–ª—é—á")
                print(f"{BOLD}\n–í—ã –≤–∑—è–ª–∏ —Ä–∂–∞–≤—ã–π –∫–ª—é—á!{RESET}")
                return True
            else:
                print("\n–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫–ª—é—á!")
                return True
        elif obj == "–∫–ª—é—á" and "–∫–ª—é—á" in self.player_inventory:
            print("\n–ö–ª—é—á —É–∂–µ —É –≤–∞—Å –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ")
            return True
        else:
            print("\n–≠—Ç–æ –Ω–µ–ª—å–∑—è –≤–∑—è—Ç—å.")
            return True

    def use_object(self, obj):
        if obj == "–∫–ª—é—á":
            if "–∫–ª—é—á" in self.player_inventory:
                return self.use_key()
            else:
                print("\n–£ –≤–∞—Å –Ω–µ—Ç –∫–ª—é—á–∞!")
        elif obj == "–¥–≤–µ—Ä—å":
            return self.use_door()
        else:
            print("\n–≠—Ç–æ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º.")
        
        return True

    def move_to(self, obj):
        if obj == "–∫–∞—Ä—Ç–∏–Ω–∞":
            print("\n–í—ã –ø–æ–¥–æ—à–ª–∏ –∫ –∫–∞—Ä—Ç–∏–Ω–µ. –ü—Ä–∏ –±–ª–∏–∂–∞–π—à–µ–º —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏ –∑–∞–º–µ—á–∞–µ—Ç–µ, —á—Ç–æ –æ–Ω–∞ –Ω–µ–º–Ω–æ–≥–æ –æ—Ç—Ö–æ–¥–∏—Ç –æ—Ç —Å—Ç–µ–Ω—ã.")
            if "–∫–ª—é—á" not in self.player_inventory and self.objects_state["–∫–ª—é—á"] == "–Ω–µ –Ω–∞–π–¥–µ–Ω":
                print("–ó–∞ –∫–∞—Ä—Ç–∏–Ω–æ–π –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ —Ä–∂–∞–≤—ã–π –∫–ª—é—á!")
                self.objects_state["–∫–ª—é—á"] = "–Ω–∞–π–¥–µ–Ω"
            return True
        elif obj == "–∫–æ–≤–µ—Ä":
            print("\n–í—ã –ø–æ–¥–Ω—è–ª–∏ –∫—Ä–∞–π –∫–æ–≤—Ä–∞. –ü–æ–¥ –Ω–∏–º –æ–±—ã—á–Ω—ã–π –∫–∞–º–µ–Ω–Ω—ã–π –ø–æ–ª.")
            return True
        elif obj == "—Å—É–Ω–¥—É–∫":
            print("\n–í—ã –ø–æ–¥–æ—à–ª–∏ –∫ —Å—É–Ω–¥—É–∫—É. –û–Ω –∑–∞–ø–µ—Ä—Ç.")
            return True
        elif obj == "–¥–≤–µ—Ä—å":
            print("\n–í—ã —Å—Ç–æ–∏—Ç–µ –ø–µ—Ä–µ–¥ –º–∞—Å—Å–∏–≤–Ω–æ–π –¥–≤–µ—Ä—å—é.")
            if self.objects_state["–¥–≤–µ—Ä—å"] == "–æ—Ç–∫—Ä—ã—Ç–∞":
                return self.complete_level()
            else:
                print("–î–≤–µ—Ä—å –∑–∞–ø–µ—Ä—Ç–∞. –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —Å–ø–æ—Å–æ–± –æ—Ç–∫—Ä—ã—Ç—å –µ–µ.")
            return True
        else:
            print("\n–ù–µ –º–æ–≥—É –ø–æ–¥–æ–π—Ç–∏ –∫ —ç—Ç–æ–º—É –æ–±—ä–µ–∫—Ç—É.")
            return True

    def use_key(self):
        print("\n–í—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á...")
        time.sleep(1)
        
        if "–¥–≤–µ—Ä—å" in self.interacted_objects or input("–í—ã —É –¥–≤–µ—Ä–∏? (–¥–∞/–Ω–µ—Ç): ").lower() == "–¥–∞":
            print("–†–∂–∞–≤—ã–π –∫–ª—é—á —Å —Ç—Ä—É–¥–æ–º –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ –∑–∞–º–∫–µ...")
            time.sleep(2)
            print("–©–ï–õ–ö! –ó–∞–º–æ–∫ –ø–æ–¥–¥–∞–µ—Ç—Å—è!")
            self.objects_state["–¥–≤–µ—Ä—å"] = "–æ—Ç–∫—Ä—ã—Ç–∞"
            print("–î–≤–µ—Ä—å –æ—Ç–∫—Ä—ã—Ç–∞! –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ –¥–∞–ª—å—à–µ.")
            return True
        else:
            print("–ó–¥–µ—Å—å –Ω–µ –∫ —á–µ–º—É –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫–ª—é—á. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–æ–π—Ç–∏ –∫ –¥–≤–µ—Ä–∏.")
            return True

    def use_door(self):
        if self.objects_state["–¥–≤–µ—Ä—å"] == "–æ—Ç–∫—Ä—ã—Ç–∞":
            return self.complete_level()
        else:
            print("\n–î–≤–µ—Ä—å –∑–∞–ø–µ—Ä—Ç–∞. –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫–ª—é—á.")
            return True

    def complete_level(self):
        print(f"\n{BOLD}–î–≤–µ—Ä—å —Å —Å–∫—Ä–∏–ø–æ–º –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è...{RESET}")
        time.sleep(2)
        print(f"{ITALIC}")
        print("–í—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ —á–µ—Ä–µ–∑ –¥–≤–µ—Ä—å –∏ –æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ—Å—å –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ–º–µ—â–µ–Ω–∏–∏.")
        print("–í–æ–∑–¥—É—Ö –Ω–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–Ω—ã–º–∏ –∞—Ä–æ–º–∞—Ç–∞–º–∏ —Ç—Ä–∞–≤ –∏ —Ö–∏–º–∏–∫–∞—Ç–æ–≤.")
        print("–≠—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–ª—Ö–∏–º–∏–∫–∞...")
        print(f"{RESET}")
        
        print(f"\n{BOLD}üéâ –í–´ –£–°–ü–ï–®–ù–û –ü–†–û–®–õ–ò 1 –£–†–û–í–ï–ù–¨! üéâ{RESET}")
        print("–≠–ª–ª–∏ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –ë–∏–±–ª–∏–æ—Ç–µ–∫—É –∑–Ω–∞–Ω–∏–π –∏ —è–¥–æ–≤–∏—Ç–æ–≥–æ –∑–µ–ª—å—è...")
        
        time.sleep(3)
        return False

    def show_help(self):
        print("\n=== –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã ===")
        print("–æ—Å–º–æ—Ç—Ä–µ—Ç—å [–æ–±—ä–µ–∫—Ç] - –æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±—ä–µ–∫—Ç")
        print("–≤–∑—è—Ç—å [–æ–±—ä–µ–∫—Ç] - –≤–∑—è—Ç—å –æ–±—ä–µ–∫—Ç –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å")
        print("–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [–æ–±—ä–µ–∫—Ç] - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç")
        print("–∏–¥—Ç–∏ [–æ–±—ä–µ–∫—Ç] - –ø–æ–¥–æ–π—Ç–∏ –∫ –æ–±—ä–µ–∫—Ç—É")
        print("–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å - –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å")
        print("–≤—ã—Ö–æ–¥ - –≤—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã")
        print("\n=== –û–±—ä–µ–∫—Ç—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è ===")
        print("—Ö–æ–ª–ª, –¥–≤–µ—Ä—å, —Å—É–Ω–¥—É–∫, –∫–∞—Ä—Ç–∏–Ω–∞, –∫–æ–≤–µ—Ä, –∫–ª—é—á")

    def start_level(self):
        print("\n" + "="*60)
        print(f"{BOLD}–£–†–û–í–ï–ù–¨ 1: –ó–∞–±—ã—Ç—ã–π —Ö–æ–ª–ª{RESET}")
        print("="*60)
        
        print(f"""{ITALIC}
–≠–ª–ª–∏ –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –≤ –ó–∞–±—ã—Ç–æ–º —Ö–æ–ª–ª–µ –ò–∑—É–º—Ä—É–¥–Ω–æ–≥–æ –∑–∞–º–∫–∞. 
–í–æ–∑–¥—É—Ö —Ö–æ–ª–æ–¥–µ–Ω –∏ –ø—ã–ª–µ–Ω. –í–ø–µ—Ä–µ–¥–∏ - –º–∞—Å—Å–∏–≤–Ω–∞—è –¥–≤–µ—Ä—å, –∫–æ—Ç–æ—Ä–∞—è –∫–∞–∂–µ—Ç—Å—è 
–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –≤—ã—Ö–æ–¥–æ–º –∏–∑ —ç—Ç–æ–≥–æ –º–µ—Å—Ç–∞. –ì–¥–µ-—Ç–æ –∑–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–ª—é—á...
        {RESET}""")
        
        print("\n–í–≤–µ–¥–∏—Ç–µ '–ø–æ–º–æ—â—å' –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥")
        
        while True:
            print("\n" + "-"*40)
            command = input("\n–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å? ")
            
            if not self.process_command(command):
                break
        
        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å 2
        return self.player_inventory


class Level2:
    def __init__(self, previous_inventory=None):
        self.player_inventory = previous_inventory if previous_inventory else []
        self.available_actions = ["–æ—Å–º–æ—Ç—Ä–µ—Ç—å", "–≤–∑—è—Ç—å", "–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å", "—á–∏—Ç–∞—Ç—å", "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å"]
        self.interacted_objects = set()
        
        self.objects_description = {
            "—Å—Ç–æ–ª": "–ê–ª—Ö–∏–º–∏—á–µ—Å–∫–∏–π —Å—Ç–æ–ª —Å –∫–æ–ª–±–∞–º–∏, —Ä–µ—Ç–æ—Ä—Ç–∞–º–∏ –∏ —Å—Ç—É–ø–∫–∞–º–∏",
            "—Ñ–ª–∞–∫–æ–Ω—ã": "–î–≤–∞ —Ñ–ª–∞–∫–æ–Ω–∞: –≥–æ–ª—É–±–æ–≤–∞—Ç—ã–π –∏ –±–∞–≥—Ä—è–Ω—ã–π",
            "–≥–æ–ª—É–±–æ–π_—Ñ–ª–∞–∫–æ–Ω": "–§–ª–∞–∫–æ–Ω —Å –ø—Ä–∏–∑—Ä–∞—á–Ω—ã–º –≥–æ–ª—É–±–æ–≤–∞—Ç—ã–º —Å–∏—è–Ω–∏–µ–º",
            "–±–∞–≥—Ä—è–Ω—ã–π_—Ñ–ª–∞–∫–æ–Ω": "–§–ª–∞–∫–æ–Ω, –ø—É–ª—å—Å–∏—Ä—É—é—â–∏–π –∑–ª–æ–≤–µ—â–∏–º –±–∞–≥—Ä—è–Ω—ã–º —Å–≤–µ—Ç–æ–º",
            "—Å–≤–∏—Ç–∫–∏": "–î–≤–∞ —Å—Ç–∞—Ä–∏–Ω–Ω—ã—Ö —Å–≤–∏—Ç–∫–∞ –Ω–∞ —Å—Ç–æ–ª–µ",
            "–ø–µ—Ä–≤—ã–π_—Å–≤–∏—Ç–æ–∫": "–°–≤–∏—Ç–æ–∫ —Å –æ–±–≥–æ—Ä–µ–≤—à–∏–º–∏ –∫—Ä–∞—è–º–∏ –∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –∑–æ–¥–∏–∞–∫–∞ –≤–æ–∫—Ä—É–≥ –ø–ª–∞–º–µ–Ω–∏",
            "–≤—Ç–æ—Ä–æ–π_—Å–≤–∏—Ç–æ–∫": "–°–≤–∏—Ç–æ–∫ —Å —Å–∏–º–≤–æ–ª–∞–º–∏: –ø–æ–ª—É–º–µ—Å—è—Ü, –∫–∞–ø–ª—è, –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∞—è –ø–∏—Ä–∞–º–∏–¥–∞",
            "—Ñ–æ–ª–∏–∞–Ω—Ç": "–¢–æ–ª—Å—Ç–∞—è –∫–Ω–∏–≥–∞ –≤ –∫–æ–∂–∞–Ω–æ–º –ø–µ—Ä–µ–ø–ª–µ—Ç–µ –æ –∞–ª—Ö–∏–º–∏–∏",
            "–ø–æ–ª–∫–∏": "–ó–∞–ø—ã–ª–µ–Ω–Ω—ã–µ –ø–æ–ª–∫–∏ —Å –∫–Ω–∏–≥–∞–º–∏ –∏ —Å–≤–∏—Ç–∫–∞–º–∏"
        }
        
        self.level_tasks = {
            "—É—Ä–æ–≤–µ–Ω—å_2": {
                "–æ—Å–º–æ—Ç—Ä–µ–Ω–æ_—Å—Ç–æ–ª": False,
                "–ø—Ä–æ—á–∏—Ç–∞–Ω–æ_—Å–≤–∏—Ç–∫–∏": False,
                "–Ω–∞–π–¥–µ–Ω–∞_–∫–Ω–∏–≥–∞": False,
                "–≤—ã–±—Ä–∞–Ω–æ_–∑–µ–ª—å–µ": False
            }
        }
        
        self.object_coordinates = {
            "—Å—Ç–æ–ª": (5, 5),
            "–ø–æ–ª–∫–∏": (3, 7),
            "—Ñ–ª–∞–∫–æ–Ω—ã": (5, 5),
            "—Å–≤–∏—Ç–∫–∏": (5, 5),
            "—Ñ–æ–ª–∏–∞–Ω—Ç": (3, 7)
        }
        
        self.player_stats = {
            "–∑–¥–æ—Ä–æ–≤—å–µ": 100,
            "–æ—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ": 30,
            "—Å—Ç–∞—Ç—É—Å": "–æ—Ç—Ä–∞–≤–ª–µ–Ω"
        }

    def show_inventory(self):
        if not self.player_inventory:
            print("\n–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç.")
        else:
            print(f"\n–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å: {', '.join(self.player_inventory)}")

    def show_health(self):
        print(f"\n–ó–¥–æ—Ä–æ–≤—å–µ: {self.player_stats['–∑–¥–æ—Ä–æ–≤—å–µ']}%")
        print(f"–û—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ: {self.player_stats['–æ—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ']}%")
        print(f"–°—Ç–∞—Ç—É—Å: {self.player_stats['—Å—Ç–∞—Ç—É—Å']}")

    def process_command(self, command):
        command = command.lower().strip()
        
        if command == "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å":
            self.show_inventory()
            return True
        elif command == "–∑–¥–æ—Ä–æ–≤—å–µ":
            self.show_health()
            return True
        elif command == "–ø–æ–º–æ—â—å":
            self.show_help()
            return True
        elif command == "–≤—ã—Ö–æ–¥":
            return False
        
        parts = command.split()
        if len(parts) < 2:
            print("–ù–µ –ø–æ–Ω—è–ª –∫–æ–º–∞–Ω–¥—É. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: –¥–µ–π—Å—Ç–≤–∏–µ –æ–±—ä–µ–∫—Ç")
            return True
        
        action = parts[0]
        obj = "_".join(parts[1:])
        
        if action not in self.available_actions:
            print(f"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. –î–æ—Å—Ç—É–ø–Ω—ã–µ: {', '.join(self.available_actions)}")
            return True
        
        return self.execute_action(action, obj)

    def execute_action(self, action, obj):
        if action == "–æ—Å–º–æ—Ç—Ä–µ—Ç—å":
            return self.examine_object(obj)
        elif action == "–≤–∑—è—Ç—å":
            return self.take_object(obj)
        elif action == "–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å":
            return self.use_object(obj)
        elif action == "—á–∏—Ç–∞—Ç—å":
            return self.read_object(obj)
        return True

    def examine_object(self, obj):
        if obj in self.objects_description:
            print(f"\n{self.objects_description[obj]}")
            self.interacted_objects.add(obj)
            
            if obj == "—Å—Ç–æ–ª":
                self.level_tasks["—É—Ä–æ–≤–µ–Ω—å_2"]["–æ—Å–º–æ—Ç—Ä–µ–Ω–æ_—Å—Ç–æ–ª"] = True
                print("–ù–∞ —Å—Ç–æ–ª–µ –≤—ã –≤–∏–¥–∏—Ç–µ –¥–≤–∞ —Ñ–ª–∞–∫–æ–Ω–∞ –∏ —Å–≤–∏—Ç–∫–∏.")
            elif obj == "—Ñ–ª–∞–∫–æ–Ω—ã":
                print("–û–¥–∏–Ω —Ñ–ª–∞–∫–æ–Ω –∏–∑–ª—É—á–∞–µ—Ç –≥–æ–ª—É–±–æ–≤–∞—Ç–æ–µ —Å–∏—è–Ω–∏–µ, –¥—Ä—É–≥–æ–π - –±–∞–≥—Ä—è–Ω–æ–µ.")
            
            return True
        else:
            print("\n–ù–µ –≤–∏–∂—É —Ç–∞–∫–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è –æ—Å–º–æ—Ç—Ä–∞.")
            return True

    def take_object(self, obj):
        takable_objects = ["–≥–æ–ª—É–±–æ–π_—Ñ–ª–∞–∫–æ–Ω", "–±–∞–≥—Ä—è–Ω—ã–π_—Ñ–ª–∞–∫–æ–Ω", "—Ñ–æ–ª–∏–∞–Ω—Ç", "–ø–µ—Ä–≤—ã–π_—Å–≤–∏—Ç–æ–∫", "–≤—Ç–æ—Ä–æ–π_—Å–≤–∏—Ç–æ–∫"]
        
        if obj in takable_objects:
            if obj not in self.player_inventory:
                self.player_inventory.append(obj)
                print(f"{BOLD}\n–í—ã –≤–∑—è–ª–∏ {obj.replace('_', ' ')}{RESET}")
                
                if obj == "—Ñ–æ–ª–∏–∞–Ω—Ç":
                    self.level_tasks["—É—Ä–æ–≤–µ–Ω—å_2"]["–Ω–∞–π–¥–µ–Ω–∞_–∫–Ω–∏–≥–∞"] = True
            else:
                print(f"\n{obj.replace('_', ' ')} —É–∂–µ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ")
        else:
            print("\n–≠—Ç–æ –Ω–µ–ª—å–∑—è –≤–∑—è—Ç—å.")
        
        return True

    def read_object(self, obj):
        readable_objects = {
            "–ø–µ—Ä–≤—ã–π_—Å–≤–∏—Ç–æ–∫": "–í—ã –∏–∑—É—á–∞–µ—Ç–µ –ø–µ—Ä–≤—ã–π —Å–≤–∏—Ç–æ–∫: —Å—Ç—Ä–∞–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∑–æ–¥–∏–∞–∫–∞ –≤–æ–∫—Ä—É–≥ —Ä–∏—Å—É–Ω–∫–∞ –ø–ª–∞–º–µ–Ω–∏. –ù–µ–ø–æ–Ω—è—Ç–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å –Ω–∞ –Ω–µ–∑–Ω–∞–∫–æ–º–æ–º —è–∑—ã–∫–µ.",
            "–≤—Ç–æ—Ä–æ–π_—Å–≤–∏—Ç–æ–∫": "–í—ã –∏–∑—É—á–∞–µ—Ç–µ –≤—Ç–æ—Ä–æ–π —Å–≤–∏—Ç–æ–∫: —Å–∏–º–≤–æ–ª—ã - –ø–æ–ª—É–º–µ—Å—è—Ü, –∫–∞–ø–ª—è, –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∞—è –ø–∏—Ä–∞–º–∏–¥–∞.",
            "—Ñ–æ–ª–∏–∞–Ω—Ç": f"""{BOLD}–í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–õ–µ—á–µ–Ω–∏–µ –ù–µ–¥—É–≥–∞ –û–≥–Ω–µ–Ω–Ω–æ–≥–æ –°–µ—Ä–¥—Ü–∞":
–†–µ—Ü–µ–ø—Ç –∏—Å—Ü–µ–ª—è—é—â–µ–≥–æ –∑–µ–ª—å—è: 
"–î–ª—è —É—Å–º–∏—Ä–µ–Ω–∏—è –ø–ª–∞–º–µ–Ω–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ, –≤–æ–∑—å–º–∏ —Ç—Ä–∞–≤—É –ª—É–Ω–Ω–æ–≥–æ —Å–µ—Ä–µ–±—Ä–∞ (—Å–∏–º–≤–æ–ª - –ø–æ–ª—É–º–µ—Å—è—Ü), 
–¥–æ–±–∞–≤—å –∫–∞–ø–ª—é —Ä–æ—Å—ã —É—Ç—Ä–µ–Ω–Ω–µ–π (—Å–∏–º–≤–æ–ª - –∫–∞–ø–ª—è), –∏ —É–∫—Ä–æ—Ç–∏ —Å–∏–ª—É –∑–µ–º–ª–∏ (—Å–∏–º–≤–æ–ª - –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∞—è –ø–∏—Ä–∞–º–∏–¥–∞)."

–ü–†–ï–î–û–°–¢–ï–†–ï–ñ–ï–ù–ò–ï: 
"–ë–µ—Ä–µ–≥–∏—Å—å –ø–æ–¥–¥–µ–ª–æ–∫! –ó–µ–ª—å–µ, —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –∏–∑ —Ç–µ–Ω–∏ —Å–º–µ—Ä—Ç–Ω–æ–π (–±–∞–≥—Ä–æ–≤—ã–π —Ñ–ª–∞–∫–æ–Ω), 
–ª–∏—à—å —É—Å–∏–ª–∏—Ç –ø–ª–∞–º—è, –ø—Ä–∏–≤–µ–¥—è –∫ –Ω–µ–º–∏–Ω—É–µ–º–æ–π –≥–∏–±–µ–ª–∏.{RESET}"""
        }
        
        if obj in readable_objects:
            if obj in self.player_inventory or obj in ["–ø–µ—Ä–≤—ã–π_—Å–≤–∏—Ç–æ–∫", "–≤—Ç–æ—Ä–æ–π_—Å–≤–∏—Ç–æ–∫"]:
                print(f"\n{readable_objects[obj]}")
                
                if obj in ["–ø–µ—Ä–≤—ã–π_—Å–≤–∏—Ç–æ–∫", "–≤—Ç–æ—Ä–æ–π_—Å–≤–∏—Ç–æ–∫"]:
                    self.level_tasks["—É—Ä–æ–≤–µ–Ω—å_2"]["–ø—Ä–æ—á–∏—Ç–∞–Ω–æ_—Å–≤–∏—Ç–∫–∏"] = True
                
                return True
            else:
                print(f"\n–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –≤–∑—è—Ç—å {obj.replace('_', ' ')}")
                return True
        else:
            print("\n–≠—Ç–æ –Ω–µ–ª—å–∑—è –ø—Ä–æ—á–∏—Ç–∞—Ç—å.")
            return True

    def use_object(self, obj):
        if obj == "–≥–æ–ª—É–±–æ–π_—Ñ–ª–∞–∫–æ–Ω":
            if obj in self.player_inventory:
                return self.drink_potion("–≥–æ–ª—É–±–æ–π")
            else:
                print("\n–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –≤–∑—è—Ç—å –≥–æ–ª—É–±–æ–π —Ñ–ª–∞–∫–æ–Ω")
        elif obj == "–±–∞–≥—Ä—è–Ω—ã–π_—Ñ–ª–∞–∫–æ–Ω":
            if obj in self.player_inventory:
                return self.drink_potion("–±–∞–≥—Ä—è–Ω—ã–π")
            else:
                print("\n–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –≤–∑—è—Ç—å –±–∞–≥—Ä—è–Ω—ã–π —Ñ–ª–∞–∫–æ–Ω")
        else:
            print("\n–≠—Ç–æ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º.")
        
        return True

    def drink_potion(self, potion_type):
        print(f"\n–≠–ª–ª–∏ –≤—ã–ø–∏–≤–∞–µ—Ç {potion_type} —Ñ–ª–∞–∫–æ–Ω...")
        time.sleep(2)
        
        if potion_type == "–≥–æ–ª—É–±–æ–π":
            print("–û–Ω–∞ —á—É–≤—Å—Ç–≤—É–µ—Ç, –∫–∞–∫ –∂–∞—Ä –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É—Ö–æ–¥–∏—Ç.")
            print("–¢–µ–ª–æ –Ω–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏—è—Ç–Ω–æ–π –ø—Ä–æ—Ö–ª–∞–¥–æ–π. –ò—Å—Ü–µ–ª–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!")
            self.player_stats["–∑–¥–æ—Ä–æ–≤—å–µ"] = 100
            self.player_stats["–æ—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ"] = 0
            self.player_stats["—Å—Ç–∞—Ç—É—Å"] = "–∑–¥–æ—Ä–æ–≤"
            self.level_tasks["—É—Ä–æ–≤–µ–Ω—å_2"]["–≤—ã–±—Ä–∞–Ω–æ_–∑–µ–ª—å–µ"] = True
            
            print("\nüéâ –í–´ –£–°–ü–ï–®–ù–û –ü–†–û–®–õ–ò 2 –£–†–û–í–ï–ù–¨! üéâ")
            print("–≠–ª–ª–∏ –∏—Å—Ü–µ–ª–∏–ª–∞—Å—å –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è–º!")
            return False
        else:
            print("–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∂–µ –≥–ª–æ—Ç–∫–µ –∂–∞—Ä –≤ —Ç–µ–ª–µ —É—Å–∏–ª–∏–≤–∞–µ—Ç—Å—è –≤—Ç—Ä–æ–µ!")
            print("–ü–ª–∞–º—è –∂–∏–∑–Ω–∏ —É–≥–∞—Å–∞–µ—Ç, –æ—Å—Ç–∞–≤–ª—è—è –ª–∏—à—å –ª–µ–¥—è–Ω—É—é –ø—É—Å—Ç–æ—Ç—É...")
            self.player_stats["–∑–¥–æ—Ä–æ–≤—å–µ"] = 0
            self.player_stats["–æ—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ"] = 100
            self.player_stats["—Å—Ç–∞—Ç—É—Å"] = "–º–µ—Ä—Ç–≤"
            print("–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞. –≠–ª–ª–∏ —Å—Ç–∞–ª–∞ –µ—â–µ –æ–¥–Ω–æ–π –∂–µ—Ä—Ç–≤–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.")
            return False

    def show_help(self):
        print("\n=== –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã ===")
        print("–æ—Å–º–æ—Ç—Ä–µ—Ç—å [–æ–±—ä–µ–∫—Ç] - –æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±—ä–µ–∫—Ç")
        print("–≤–∑—è—Ç—å [–æ–±—ä–µ–∫—Ç] - –≤–∑—è—Ç—å –æ–±—ä–µ–∫—Ç –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å")
        print("–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [–æ–±—ä–µ–∫—Ç] - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç")
        print("—á–∏—Ç–∞—Ç—å [–æ–±—ä–µ–∫—Ç] - –ø—Ä–æ—á–∏—Ç–∞—Ç—å –æ–±—ä–µ–∫—Ç")
        print("–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å - –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å")
        print("–∑–¥–æ—Ä–æ–≤—å–µ - –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è")
        print("–≤—ã—Ö–æ–¥ - –≤—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã")
        print("\n=== –û–±—ä–µ–∫—Ç—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è ===")
        print("—Å—Ç–æ–ª, —Ñ–ª–∞–∫–æ–Ω—ã, –≥–æ–ª—É–±–æ–π_—Ñ–ª–∞–∫–æ–Ω, –±–∞–≥—Ä—è–Ω—ã–π_—Ñ–ª–∞–∫–æ–Ω")
        print("—Å–≤–∏—Ç–∫–∏, –ø–µ—Ä–≤—ã–π_—Å–≤–∏—Ç–æ–∫, –≤—Ç–æ—Ä–æ–π_—Å–≤–∏—Ç–æ–∫, —Ñ–æ–ª–∏–∞–Ω—Ç, –ø–æ–ª–∫–∏")

    def start_level(self):
        print("\n" + "="*60)
        print(f"{BOLD}–£–†–û–í–ï–ù–¨ 2: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∑–Ω–∞–Ω–∏–π –∏ —è–¥–æ–≤–∏—Ç–æ–≥–æ –∑–µ–ª—å—è{RESET}")
        print("="*60)
        
        print(f"""{ITALIC}
–≠–ª–ª–∏ –≤—Ö–æ–¥–∏—Ç –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É, —á—É–≤—Å—Ç–≤—É—è –∫–∞–∫ –ø–æ —Ç–µ–ª—É —Ä–∞–∑–ª–∏–≤–∞–µ—Ç—Å—è –Ω–µ–≤–µ–¥–æ–º—ã–π –∂–∞—Ä.
–í —Ü–µ–Ω—Ç—Ä–µ –∑–∞–ª—ã –≤–æ–∑–≤—ã—à–∞–µ—Ç—Å—è –∞–ª—Ö–∏–º–∏—á–µ—Å–∫–∏–π —Å—Ç–æ–ª, —Å–ª–æ–≤–Ω–æ –∞–ª—Ç–∞—Ä—å –Ω–∞—É—á–Ω–æ–≥–æ –∫–æ–ª–¥–æ–≤—Å—Ç–≤–∞.
–ù–∞ –Ω–µ–º, —Å—Ä–µ–¥–∏ –∫–æ–ª–±, —Ä–µ—Ç–æ—Ä—Ç –∏ —Å—Ç—É–ø–æ–∫, –ø–æ–∫–æ—è—Ç—Å—è –¥–≤–∞ —Ñ–ª–∞–∫–æ–Ω–∞...
        {RESET}""")
        
        self.show_health()
        print("\n–í–≤–µ–¥–∏—Ç–µ '–ø–æ–º–æ—â—å' –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥")
        
        while True:
            print("\n" + "-"*40)
            command = input("\n–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å? ")
            
            if not self.process_command(command):
                break
            
            if self.player_stats["–∑–¥–æ—Ä–æ–≤—å–µ"] <= 0:
                print("\n–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!")
                break
            elif self.level_tasks["—É—Ä–æ–≤–µ–Ω—å_2"]["–≤—ã–±—Ä–∞–Ω–æ_–∑–µ–ª—å–µ"]:
                print("\n–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∏ —É—Ä–æ–≤–µ–Ω—å 2!")
                break


def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–π –∏–≥—Ä—ã"""
    print(f"{BOLD}=== –í–û–õ–®–ï–ë–ù–ò–ö –ò–ó–£–ú–†–£–î–ù–û–ì–û –ì–û–†–û–î–ê ==={RESET}")
    print("–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –≠–ª–ª–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è...")
    time.sleep(2)
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º —É—Ä–æ–≤–µ–Ω—å 1
    level1 = Level1()
    inventory = level1.start_level()
    
    # –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –Ω–µ –≤—ã—à–µ–ª –∏ –ø—Ä–æ—à–µ–ª —É—Ä–æ–≤–µ–Ω—å 1, –∑–∞–ø—É—Å–∫–∞–µ–º —É—Ä–æ–≤–µ–Ω—å 2
    if inventory is not None:
        print("\n–ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É—Ä–æ–≤–Ω—é...")
        time.sleep(2)
        
        # –ó–∞–ø—É—Å–∫–∞–µ–º —É—Ä–æ–≤–µ–Ω—å 2 —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º
        level2 = Level2(previous_inventory=inventory)
        level2.start_level()


if __name__ == "__main__":
    main()